<section class="user-content">
  <h1>會員資料</h1>

  <!-- User Details -->
  <section class="user-container" [hidden]="edit">
    <div class="user">
      <span class="user-detail-text">帳號: {{ user?.account }}</span>
      <span class="user-detail-text">Email: {{ user?.email }}</span>
      <span class="user-detail-text">名字: {{ user?.name }}</span>
      <span class="user-detail-text">生日: {{ getDate(user?.birthdate) }}</span>
      <div class="address">
        <span class>地址: </span>
        <span class>{{ user?.city }}</span>
        <span class>{{ user?.district }}</span>
        <span class>{{ user?.street }}</span>
        <span class>{{ user?.alley }}巷</span>
        <span class>{{ user?.lane }}弄</span>
        <span class>{{ user?.floor }}</span>
      </div>
      <section class="controls">
        <button class="box-link" (click)="handleEdit()">修改</button>
      </section>
    </div>

    <div class="error-item">
      <h1>{{ error }}</h1>
    </div>
  </section>
  <!-- End user details -->

  <!-- Edit user details -->
  <section class="user-container" [hidden]="!edit">
    <div *ngIf="!error" class="user">
      <form [formGroup]="applyForm" (submit)="handleSave($event)">
        <div class="user-edit-input">
          <span class="edit-fixed-text">帳號: {{ user?.account }}</span>
        </div>
        <div class="user-edit-input">
          <label for="name">名字: </label>
          <input
            class="user-detail-text user-detail-input"
            name="name"
            id="name"
            formControlName="name"
          />
          <small class="danger-text" [hidden]="applyForm.controls.name.valid"
            >Name does not meet requirements</small
          >
        </div>
        <div class="user-edit-input">
          <span class="edit-fixed-text">Email: {{ user?.email }}</span>
        </div>
        <div class="user-edit-input">
          <label for="birthdate">生日: </label>
          <input
            class="user-detail-text"
            name="birthdate"
            id="birthdate"
            user-detail-input
            formControlName="birthdate"
          />
          <small
            class="danger-text"
            [hidden]="applyForm.controls.birthdate.valid"
            >Date format incorrect</small
          >
        </div>

        <div class="user-edit-input address city-selector">
          <div role="tw-city-selector"></div>
        </div>

        <div class="user-edit-input address">
          <label for="street">路</label>
          <input
            id="street"
            type="text"
            placeholder="路"
            formControlName="street"
          />
          <small class="danger-text" [hidden]="applyForm.controls.street.valid"
            >Cannot be empty</small
          >
        </div>
        <div class="user-edit-input address">
          <label for="alley">巷</label>
          <input
            id="alley"
            type="text"
            placeholder="巷"
            formControlName="alley"
          />
          <small class="danger-text" [hidden]="applyForm.controls.alley.valid"
            >Cannot be empty</small
          >
        </div>
        <div class="user-edit-input address">
          <label for="lane">弄</label>
          <input
            id="lane"
            type="text"
            placeholder="弄"
            formControlName="lane"
          />
          <small class="danger-text" [hidden]="applyForm.controls.lane.valid"
            >Cannot be empty</small
          >
        </div>
        <div class="user-edit-input address">
          <label for="floor">樓</label>
          <input
            id="floor"
            type="text"
            placeholder="樓"
            formControlName="floor"
          />
          <small class="danger-text" [hidden]="applyForm.controls.floor.valid"
            >Cannot be empty</small
          >
        </div>

        <section class="controls">
          <button
            type="submit"
            class="box-link save"
            [disabled]="!applyForm.valid"
          >
            確定
          </button>
          <button
            type="button"
            class="box-link cancel"
            (click)="handleCancel()"
          >
            取消
          </button>
        </section>
        <div class="error-item">
          <h1>{{ error }}</h1>
        </div>
      </form>
    </div>
  </section>
  <!-- End Edit user details -->
</section>
